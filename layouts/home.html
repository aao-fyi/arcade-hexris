{{ define "main" }}
  <canvas id="canvas"></canvas>
  <div id="overlay" class="faded overlay"></div>
  <div id="startBtn"></div>

  {{/* Help */}}
  <div id="info-hexris-offcanvas" class="offcanvas offcanvas-start" tabindex="-1">
    <div class="offcanvas-header row">
      <h1 class="offcanvas-title col-8">{{ .Site.Title }}</h1>
      <button type="button" class="btn col-4" data-bs-dismiss="offcanvas" title="Close" aria-label="Close">
        <img src="{{ (resources.Get "img/btn_back.svg").RelPermalink }}"/>
      </button>
    </div>

    <div class="offcanvas-body">
      <p>{{ .Site.Params.Description }}</p>

      <hr/>

      <div class="text-center fs-3">HOW TO PLAY</div>
      <p>The goal of Hexris is to stop blocks from leaving the inside of the outer gray hexagon.</p>
      <p>Press the left and right arrow keys or tap the left and right sides of the screen to rotate the Hexagon. Press the down arrow to speed up the block falling.</p>
      <p>Clear blocks and get points by making 3 or more blocks of the same color touch.</p>
      <p>Time left before your combo streak disappears is indicated by <span style="color:#f1c40f;">the</span> <span style="color:#e74c3c">colored</span> <span style="color:#3498db">lines</span> <span style="color:#2ecc71">on</span> the outer hexagon.</p>

      <hr/>

      <p>Original game by
        <a href="https://loganengstrom.com" target="_blank">Logan Engstrom</a>,
        <a href="https://github.com/garrettdreyfus" target="_blank">Garrett Finucane</a>,
        <a href="https://github.com/nmoroze" target="_blank">Noah Moroze</a>,
        <a href="https://github.com/themichaelyang" target="_blank">Michael Yang</a>.
      </p>

      <hr/>

      {{ with .Site.Menus.footer }}
        <ul class="list-inline list-unstyled">
        {{ range . }}
          <li class="list-inline-item">
            <a href="{{ .URL }}" target="_blank">{{ .Name }}</a>
          </li>
        {{ end }}
        </ul>
      {{ end }}

      <p>&copy; {{ .Site.Copyright }}</p>
    </div>
  </div>

  <div id="openSideBar" class="col col-3 col-sm-2 col-md-1 order-3 order-md-4">
    <button class="btn" title="Information" aria-label="Information" type="button" data-bs-toggle="offcanvas" data-bs-target="#info-hexris-offcanvas" aria-controls="info-hexris-offcanvas">
      <img class="helpText" src="{{ (resources.Get "img/btn_help.svg").RelPermalink }}"/>
    </button>
  </div>
  <div class="faded overlay"></div>
  <img id="pauseBtn" src="{{ (resources.Get "img/btn_pause.svg").RelPermalink }}"/>
  <img id="restartBtn" src="{{ (resources.Get "img/btn_restart.svg").RelPermalink }}"/>
  <div id="highScoreInGameText">
      <div id="highScoreInGameTextHeader">HIGH SCORE</div><div id="currentHighScore">10292</div>
  </div>
  <div id="gameoverscreen">
      <div id="container">
          <div class="GOTitle">GAME OVER</div>
          <div id="cScore">1843</div>
          <div id="highScoresTitle" class="GOTitle">HIGH SCORES</div>
          <ol>
            <li id="1place">0</li>
            <li id="2place">0</li>
            <li id="3place">0</li>
          </ol>
      </div>
  </div>
{{ end }}

{{ define "foot" }}
  {{ $hammerJS := resources.GetRemote "https://raw.githubusercontent.com/hammerjs/hammer.js/refs/tags/1.1.3/hammer.js" }}
  {{ $jsonfnJS := resources.GetRemote "https://raw.githubusercontent.com/vkiryukhin/jsonfn/refs/tags/1.1.0/jsonfn.js" }}
  {{ $keypressJS := resources.GetRemote "https://raw.githubusercontent.com/dmauro/Keypress/refs/tags/1.0.9/keypress.js" }}
  {{ $jqueryJS := resources.GetRemote "https://raw.githubusercontent.com/jquery/jquery/refs/tags/3.6.0/dist/jquery.js" }}

  {{ $saveStateJS := resources.Get "js/save-state.js" }}
  {{ $viewJS := resources.Get "js/view.js" }}
  {{ $wavegenJS := resources.Get "js/wavegen.js" }}
  {{ $mathJS := resources.Get "js/math.js" }}
  {{ $blockJS := resources.Get "js/block.js" }}
  {{ $hexJS := resources.Get "js/hex.js" }}
  {{ $textJS := resources.Get "js/text.js" }}
  {{ $comboTimerJS := resources.Get "js/combo-timer.js" }}
  {{ $checkingJS := resources.Get "js/checking.js" }}
  {{ $updateJS := resources.Get "js/update.js" }}
  {{ $renderJS := resources.Get "js/render.js" }}
  {{ $inputJS := resources.Get "js/input.js" }}
  {{ $mainJS := resources.Get "js/main.js" }}
  {{ $initializationJS := resources.Get "js/initialization.js" }}

  {{ $hexrisJS := slice $hammerJS $jsonfnJS $keypressJS $jqueryJS $saveStateJS $viewJS $wavegenJS $mathJS $blockJS $hexJS $textJS $comboTimerJS $checkingJS $updateJS $renderJS $inputJS $mainJS $initializationJS | resources.Concat "js/hexris.js" | minify }}
  {{ $hexrisSRI := $hexrisJS | resources.Fingerprint "sha384" }}
  <script src="{{ $hexrisSRI.RelPermalink }}" integrity="{{ $hexrisSRI.Data.Integrity }}"></script>
{{ end }}
